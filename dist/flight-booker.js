import{h as t,T as e,r as i,n as a}from"./property-87bb8bd7.js";import{r}from"./state-13a58fab.js";var s,n=function(t,e,i,a){var r,s=arguments.length,n=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,a);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(n=(s<3?r(n):s>3?r(e,i,n):r(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n};!function(t){t.OneWay="one-way",t.Return="return"}(s||(s={}));let l=class extends t{constructor(){super(...arguments),this.startTimestamp=16360848e5,this.startDateString="11.05.2021",this.returnTimestamp=16360848e5,this.returnDateString="11.06.2021",this.flightType=s.OneWay}get isStartDateValid(){return!!this._isDate(this.startDateString)}get isReturnDateValid(){return!!this._isDate(this.returnDateString)}get isFlightValid(){return!(!this.isStartDateValid||!this.isReturnDateValid)&&!(this.flightType==s.Return&&this.returnTimestamp<this.startTimestamp)}_isDate(t){const e=Date.parse(t);return!isNaN(e)}_getDate(t){return Date.parse(t)}_changeStartDate(t){this.startDateString=t.target.value,this.startTimestamp=this._getDate(this.startDateString)}_changeReturnDate(t){this.returnDateString=t.target.value,this.returnTimestamp=this._getDate(this.returnDateString)}_changeFlightType(t){this.flightType=t.target.value}_book(){this.isFlightValid&&(this.flightType==s.Return?alert(`You have booked a return flight from ${this.startDateString} to ${this.returnDateString}`):this.flightType==s.OneWay&&alert(`You have booked a one way flight on ${this.startDateString}`))}render(){return e`<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css"><div class="box"><label for="flight-select" class="is-size-5">Flight Type</label> <select name="flight-select" id="flight-select" class="select" @input="${this._changeFlightType}"><option value="${s.OneWay}">one-way flight</option><option value="${s.Return}">return flight</option></select><br><label for="start-date" class="is-size-5">Start Date</label> <input type="text" id="start-date" name="start-date" class="input" .value="${this.startDateString}" class="${this.isStartDateValid?"":"invalid"}" @input="${this._changeStartDate}"><br><label for="return-date" class="is-size-5">Return Date</label> <input type="text" id="return-date" name="return-date" class="input" .value="${this.returnDateString}" class="${this.isReturnDateValid?"":"invalid"}" .disabled="${this.flightType==s.OneWay}" @input="${this._changeReturnDate}"><br><button class="button" @click="${this._book}" .disabled="${!this.isFlightValid}">Book</button></div>`}};l.styles=i`.invalid{background:coral}`,n([r()],l.prototype,"startTimestamp",void 0),n([r()],l.prototype,"startDateString",void 0),n([r()],l.prototype,"returnTimestamp",void 0),n([r()],l.prototype,"returnDateString",void 0),n([r()],l.prototype,"flightType",void 0),l=n([a("seven-gui-flight-booker")],l);export{l as FlightBooker};
